webpackJsonp([1],{"AV9+":function(t,e){},ELlJ:function(t,e){},Etm5:function(t,e){},FDPK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",t._b({attrs:{type:"textarea"},on:{input:function(e){return t.$emit("input",e)}}},"el-input",t.$attrs,!1))},staticRenderFns:[]},a=n("VU/8")(null,r,!1,null,null,null);e.default=a.exports},K8Bh:function(module,__webpack_exports__,__webpack_require__){"use strict";function uuid(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return(t=(t=t.replace(/x/g,function(){return(16*Math.random()|0).toString(16)})).replace("y",(16*Math.random()&3|8).toString(16))).replace(/-/g,"").substr(0,24)}function calcCondition(condition,data){if(!condition)return!1;var con=condition.replace(/([^()&|='"]+)=+/g,"data.$1===");try{return eval(con)}catch(t){}return!1}__webpack_exports__.b=uuid,__webpack_exports__.a=calcCondition},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a=n("Dd8w"),u=n.n(a),i=n("w/TU"),o=n.n(i),l={components:{"ff-select":n("ZYan").default,"ff-checkbox-group":n("tG9Z").default,"ff-radio-group":n("Vv44").default,"ff-input":n("qg6B").default,"ff-number":n("cFp1").default,"ff-textarea":n("FDPK").default,"ff-custom":n("hTC+").default,"ff-dynamic":n("uKnk").default},props:["config","value","disabled"],data:function(){return{}},watch:{"config.defaultValue":function(t){this.$emit("input",t)}},mounted:function(){void 0!==this.config.defaultValue&&this.$emit("input",this.config.defaultValue)},methods:{}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:t.config.title,prop:t.config.key}},[n("ff-"+t.config.type,{tag:"component",attrs:{options:t.config.options,disabled:t.disabled,placeholder:t.config.placeholder,component:t.config.component,value:t.value},on:{input:function(e){return t.$emit("input",e)}}})],1)},staticRenderFns:[]},s=n("VU/8")(l,c,!1,null,null,null).exports,d=n("K8Bh"),p=n("hE8X"),f=n.n(p),v={components:{draggable:o.a,formItem:s},filters:{calcCondition:d.a},data:function(){return{current:"",menus:f.a.components,props:f.a.props,defines:f.a.defines,dataSource:[],dataForm:{}}},computed:{currentIdx:function(){var t=this;return this.dataSource.findIndex(function(e){return e.id===t.current})},currentProps:function(){var t=this.dataSource[this.currentIdx];if(t){var e=this.props[t.type]||[];return this.defines.filter(function(t){return e.includes(t.tag)})}}},methods:{prepareClone:function(t){var e=Object(d.b)();return u()({id:e,key:t.type+"_"+e.substr(0,4)},t)},remove:function(t){var e=this.dataSource.findIndex(function(e){return e.id===t});this.current===t&&(this.current=""),this.dataSource.splice(e,1)},copy:function(t){var e=this.dataSource.findIndex(function(e){return e.id===t}),n=Object(d.b)();this.dataSource.splice(e,0,u()({},this.dataSource[e],{id:n,key:this.dataSource[e].type+"_"+n.substr(0,4)}))}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"left"},[n("h2",[t._v("基础字段")]),t._v(" "),n("draggable",{staticClass:"menu",attrs:{tag:"ul",list:t.menus,group:{name:"component",pull:"clone",put:!1},sort:!1,clone:t.prepareClone}},t._l(t.menus,function(e){return n("li",{key:e.type,staticClass:"menu-item"},[n("a",[t._v(t._s(e.title))])])}),0)],1),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[t._v("\n      head\n    ")]),t._v(" "),n("div",{staticClass:"body"},[n("el-form",{attrs:{"label-width":"auto"}},[n("draggable",{staticClass:"drag-area",attrs:{list:t.dataSource,animation:200,"ghost-class":"ghost",group:"component"}},t._l(t.dataSource,function(e){return n("div",{key:e.id,staticClass:"form-item",class:{active:t.current===e.id},on:{click:function(n){t.current=e.id}}},[n("form-item",{attrs:{config:e,disabled:t._f("calcCondition")(e.disabled,t.dataForm)},model:{value:t.dataForm[e.key],callback:function(n){t.$set(t.dataForm,e.key,n)},expression:"dataForm[c.key]"}}),t._v(" "),n("div",{staticClass:"option"},[n("el-tooltip",{attrs:{content:"复制"}},[n("a",{on:{click:function(n){return t.copy(e.id)}}},[n("i",{staticClass:"el-icon-copy-document"})])]),t._v(" "),n("el-tooltip",{attrs:{content:"删除"}},[n("a",{on:{click:function(n){return t.remove(e.id)}}},[n("i",{staticClass:"el-icon-delete"})])])],1)],1)}),0)],1)],1)]),t._v(" "),n("div",{staticClass:"right"},[n("h2",[t._v("属性配置")]),t._v(" "),n("div",{staticClass:"props-content"},[n("preview",{attrs:{"data-source":t.currentProps},model:{value:t.dataSource[t.currentIdx],callback:function(e){t.$set(t.dataSource,t.currentIdx,e)},expression:"dataSource[currentIdx]"}})],1),t._v(" "),n("code",[n("pre",[t._v(t._s(JSON.stringify(t.dataForm,void 0,2)))])]),t._v(" "),n("code",[n("pre",[t._v(t._s(JSON.stringify(t.dataSource,void 0,2)))])])])])},staticRenderFns:[]};var _=n("VU/8")(v,m,!1,function(t){n("eGg/")},"data-v-0b8b8dbb",null).exports,y=n("bOdI"),h=n.n(y),b={components:{formItem:s},filters:{calcCondition:d.a},props:{dataSource:{type:Array,default:function(){return[]}},value:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{handleInput:function(t,e){this.$emit("input",u()({},this.$props.value,h()({},t,e)))}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{attrs:{"label-width":"auto"}},t._l(t.dataSource,function(e){return n("div",{key:e.id},[n("form-item",{attrs:{config:e,value:t.value[e.key],disabled:t._f("calcCondition")(e.disabled,t.value)},on:{input:function(n){return t.handleInput(e.key,n)}}})],1)}),0)},staticRenderFns:[]};var k=n("VU/8")(b,x,!1,function(t){n("ELlJ")},"data-v-563db448",null).exports,g={components:{preview:k},data:function(){return{value:{},component:[{type:"input",key:"key",placeholder:"key"},{type:"input",key:"value",placeholder:"value"}]}},methods:{handleChange:function(t){this.value=t}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("preview",{attrs:{"data-source":t.component,value:t.value},on:{input:function(e){return t.handleChange(e)}}})],1)},staticRenderFns:[]};var V={name:"App",components:{FormFoundry:_,Test:n("VU/8")(g,$,!1,function(t){n("oNZ1")},"data-v-1aa27c98",null).exports}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("FormFoundry")],1)},staticRenderFns:[]};var F=n("VU/8")(V,C,!1,function(t){n("AV9+")},null,null).exports,S=n("zL8q"),E=n.n(S);n("tvR6");r.default.component("preview",k),r.default.config.productionTip=!1,r.default.use(E.a,{size:"mini"}),new r.default({el:"#app",components:{App:F},template:"<App/>"})},Vv44:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-radio-group",t._b({on:{input:function(e){return t.$emit("input",e)}}},"el-radio-group",t.$attrs,!1),t._l(t.options,function(e){return n("el-radio",{key:e.key,attrs:{label:e.key}},[t._v("\n    "+t._s(e.value)+"\n  ")])}),1)},staticRenderFns:[]},a=n("VU/8")({props:["options"],data:function(){return{}},methods:{}},r,!1,null,null,null);e.default=a.exports},ZYan:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",t._b({on:{input:function(e){return t.$emit("input",e)}}},"el-select",t.$attrs,!1),t._l(t.options,function(t){return n("el-option",{key:t.key,attrs:{value:t.value,label:t.value}})}),1)},staticRenderFns:[]},a=n("VU/8")({props:["options"],data:function(){return{}},methods:{}},r,!1,null,null,null);e.default=a.exports},cFp1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input-number",t._b({on:{input:function(e){return t.$emit("input",e)}}},"el-input-number",t.$attrs,!1))},staticRenderFns:[]},a=n("VU/8")(null,r,!1,null,null,null);e.default=a.exports},"eGg/":function(t,e){},hE8X:function(t,e){t.exports={components:[{type:"input",title:"单行文本"},{type:"number",title:"数字"},{type:"textarea",title:"多行文本"},{type:"select",title:"下拉框",options:[{key:"option1",value:"选项1"},{key:"option2",value:"选项2"}]},{type:"checkbox-group",title:"复选框",options:[{key:"option1",value:"选项1"},{key:"option2",value:"选项2"}]},{type:"radio-group",title:"单选框",options:[{key:"option1",value:"选项1"},{key:"option2",value:"选项2"}]},{type:"dynamic",title:"动态组件",component:[{type:"input",key:"key",placeholder:"key"},{type:"input",key:"value",placeholder:"value"}]}],props:{input:["basic","placeholder","defaultValue"],number:["basic","placeholder","defaultValueNumber"],textarea:["basic","placeholder","defaultValue"],select:["basic","placeholder","defaultValue","options"],"checkbox-group":["basic","defaultValueArray"],"radio-group":["basic","defaultValue"]},defines:[{type:"input",title:"标题",key:"title",tag:"basic"},{type:"input",title:"字段索引",key:"key",tag:"basic"},{type:"input",title:"占位内容",key:"placeholder",tag:"placeholder"},{type:"input",title:"默认值",key:"defaultValue",tag:"defaultValue"},{type:"checkbox-group",title:"默认值",key:"defaultValue",tag:"defaultValueArray"},{type:"number",title:"默认值",key:"defaultValue",tag:"defaultValueNumber"},{type:"dynamic",title:"选项",key:"options",component:[{type:"input",key:"key",placeholder:"key"},{type:"input",key:"value",placeholder:"value"}],tag:"options"}]}},"hTC+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",t._b({attrs:{type:"textarea"},on:{input:function(e){return t.$emit("input",e)}}},"el-input",t.$attrs,!1))},staticRenderFns:[]},a=n("VU/8")({props:[],data:function(){return{}},methods:{}},r,!1,null,null,null);e.default=a.exports},oNZ1:function(t,e){},qg6B:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",t._b({on:{input:function(e){return t.$emit("input",e)}}},"el-input",t.$attrs,!1))},staticRenderFns:[]},a=n("VU/8")(null,r,!1,null,null,null);e.default=a.exports},tG9Z:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-checkbox-group",t._b({attrs:{value:t.value||[]},on:{input:function(e){return t.$emit("input",e)}}},"el-checkbox-group",t.$attrs,!1),t._l(t.options,function(e){return n("el-checkbox",{key:e.key,attrs:{label:e.key}},[t._v("\n    "+t._s(e.value)+"\n  ")])}),1)},staticRenderFns:[]},a=n("VU/8")({props:["options","value"],data:function(){return{}},methods:{}},r,!1,null,null,null);e.default=a.exports},tvR6:function(t,e){},uKnk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Gu7T"),a=n.n(r),u={props:["value","component"],data:function(){return{}},methods:{add:function(){this.$emit("input",[].concat(a()(this.value||[]),[void 0]))},remove:function(t){this.$emit("input",this.value.filter(function(e,n){return n!==t}))},handleChange:function(t,e){this.$emit("input",this.value.map(function(n,r){return r===t?e:n}))}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.value,function(e,r){return n("el-row",{key:r,attrs:{gutter:5,type:"flex"}},[n("el-col",{staticStyle:{flex:"auto"}},[n("preview",{attrs:{"data-source":t.component,value:t.value[r]},on:{input:function(e){return t.handleChange(r,e)}}})],1),t._v(" "),n("el-col",{staticStyle:{width:"36px"}},[n("a",{on:{click:function(e){return t.remove(r)}}},[n("i",{staticClass:"el-icon-delete"})])])],1)}),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:t.add}},[t._v("添加新项")])],2)},staticRenderFns:[]};var o=n("VU/8")(u,i,!1,function(t){n("Etm5")},"data-v-b691a590",null);e.default=o.exports}},["NHnr"]);
//# sourceMappingURL=app.1857d8d2f28bbb4ed555.js.map